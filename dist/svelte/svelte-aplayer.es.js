function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function l(t){t.forEach(n)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function i(t,e,n){t.$$.on_destroy.push(a(e,n))}function c(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function y(){return m("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return Array.from(t.childNodes)}function E(t,e,n,r){for(let l=0;l<t.length;l+=1){const r=t[l];if(r.nodeName===e){let e=0;const s=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||s.push(t.name)}for(let t=0;t<s.length;t++)r.removeAttribute(s[t]);return t.splice(l,1)[0]}}return r?v(e):f(e)}function q(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return m(e)}function b(t){return q(t," ")}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function I(t,e,n){t.classList[n?"add":"remove"](e)}class D{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=f(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)d(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(p)}}let A;function S(t){A=t}function B(t){(function(){if(!A)throw new Error("Function called outside component initialization");return A})().$$.on_mount.push(t)}const N=[],_=[],k=[],L=[],P=Promise.resolve();let V=!1;function z(t){k.push(t)}let O=!1;const H=new Set;function C(){if(!O){O=!0;do{for(let t=0;t<N.length;t+=1){const e=N[t];S(e),R(e.$$)}for(S(null),N.length=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];H.has(e)||(H.add(e),e())}k.length=0}while(N.length);for(;L.length;)L.pop()();V=!1,O=!1,H.clear()}}function R(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const U=new Set;function Y(t,e){t&&t.i&&(U.delete(t),t.i(e))}function j(t,e){t.d(1),e.delete(t.key)}function X(t,e){-1===t.$$.dirty[0]&&(N.push(t),V||(V=!0,P.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,o,a,i,c,h,u=[-1]){const d=A;S(e);const f=e.$$={fragment:null,ctx:null,props:h,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let v=!1;if(f.ctx=a?a(e,o.props||{},((t,n,...r)=>{const l=r.length?r[0]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=l)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](l),v&&X(e,t)),n})):[],f.update(),v=!0,l(f.before_update),f.fragment=!!i&&i(f.ctx),o.target){if(o.hydrate){const t=x(o.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();o.intro&&Y(e.$$.fragment),function(t,e,r,o){const{fragment:a,on_mount:i,on_destroy:c,after_update:h}=t.$$;a&&a.m(e,r),o||z((()=>{const e=i.map(n).filter(s);c?c.push(...e):l(e),t.$$.on_mount=[]})),h.forEach(z)}(e,o.target,o.anchor,o.customElement),C()}S(d)}const F=[];function J(e,n=t){let r;const l=[];function s(t){if(o(e,t)&&(e=t,r)){const t=!F.length;for(let n=0;n<l.length;n+=1){const t=l[n];t[1](),F.push(t,e)}if(t){for(let t=0;t<F.length;t+=2)F[t][0](F[t+1]);F.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const i=[o,a];return l.push(i),1===l.length&&(r=n(s)||t),o(e),()=>{const t=l.indexOf(i);-1!==t&&l.splice(t,1),0===l.length&&(r(),r=null)}}}}function G(e,n,r){const o=!Array.isArray(e),i=o?[e]:e,c=n.length<2;return{subscribe:J(r,(e=>{let r=!1;const h=[];let u=0,d=t;const p=()=>{if(u)return;d();const r=n(o?h[0]:h,e);c?e(r):d=s(r)?r:t},f=i.map(((t,e)=>a(t,(t=>{h[e]=t,u&=~(1<<e),r&&p()}),(()=>{u|=1<<e}))));return r=!0,p(),function(){l(f),d()}})).subscribe}}const K=t=>{const e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),r=Math.floor(t-3600*e-60*n);return(e>0?[e,n,r]:[n,r]).map((t=>t<10?"0"+t:""+t)).join(":")};function Q(t){if(t){const e=(t=t.replace(/([^\]^\n])\[/g,((t,e)=>e+"\n["))).split("\n");let n=[];const r=e.length;for(let t=0;t<r;t++){const r=e[t].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),l=e[t].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(r){const t=r.length;for(let e=0;e<t;e++){const t=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(r[e]),s=60*t[1]+parseInt(t[2])+(t[4]?parseInt(t[4])/(2===(t[4]+"").length?100:1e3):0);n.push([s,l])}}}return n=n.filter((t=>t[1])),n.sort(((t,e)=>t[0]-e[0])),n}return[]}/mobile/i.test(window.navigator.userAgent);const Z=[];function tt(t,e,n){const r=t.slice();return r[65]=e[n],r[67]=n,r}function et(t,e,n){const r=t.slice();return r[68]=e[n],r[70]=n,r}function nt(t){let e,n,r;return{c(){e=f("div"),n=v("svg"),r=v("path"),this.h()},l(t){e=E(t,"DIV",{class:!0});var l=x(e);n=E(l,"svg",{xmlns:!0,version:!0,viewBox:!0,class:!0},1);var s=x(n);r=E(s,"path",{d:!0,class:!0},1),x(r).forEach(p),s.forEach(p),l.forEach(p),this.h()},h(){$(r,"d","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"),$(r,"class","svelte-h767rq"),$(n,"xmlns","http://www.w3.org/2000/svg"),$(n,"version","1.1"),$(n,"viewBox","0 0 16 31"),$(n,"class","svelte-h767rq"),$(e,"class","aplayer-button aplayer-play svelte-h767rq")},m(t,l){d(t,e,l),u(e,n),u(n,r)},d(t){t&&p(e)}}}function rt(t){let e,n,r;return{c(){e=f("div"),n=v("svg"),r=v("path"),this.h()},l(t){e=E(t,"DIV",{class:!0});var l=x(e);n=E(l,"svg",{xmlns:!0,version:!0,viewBox:!0,class:!0},1);var s=x(n);r=E(s,"path",{d:!0,class:!0},1),x(r).forEach(p),s.forEach(p),l.forEach(p),this.h()},h(){$(r,"d","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"),$(r,"class","svelte-h767rq"),$(n,"xmlns","http://www.w3.org/2000/svg"),$(n,"version","1.1"),$(n,"viewBox","0 0 17 32"),$(n,"class","svelte-h767rq"),$(e,"class","aplayer-button aplayer-pause svelte-h767rq")},m(t,l){d(t,e,l),u(e,n),u(n,r)},d(t){t&&p(e)}}}function lt(t){let e,n,r=[],l=new Map,s=t[5];const o=t=>t[68][0];for(let a=0;a<s.length;a+=1){let e=et(t,s,a),n=o(e);l.set(n,r[a]=st(n,e))}return{c(){e=f("div"),n=f("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=E(t,"DIV",{class:!0});var l=x(e);n=E(l,"DIV",{class:!0,style:!0});var s=x(n);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(p),l.forEach(p),this.h()},h(){$(n,"class","aplayer-lrc-contents svelte-h767rq"),T(n,"transform","translateY("+-16*Math.max(t[7],0)+"px)"),$(e,"class","aplayer-lrc svelte-h767rq")},m(t,l){d(t,e,l),u(e,n);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(t,e){160&e[0]&&(s=t[5],r=function(t,e,n,r,l,s,o,a,i,c,h,u){let d=t.length,p=s.length,f=d;const v={};for(;f--;)v[t[f].key]=f;const m=[],g=new Map,y=new Map;for(f=p;f--;){const t=u(l,s,f),a=n(t);let i=o.get(a);i?r&&i.p(t,e):(i=c(a,t),i.c()),g.set(a,m[f]=i),a in v&&y.set(a,Math.abs(f-v[a]))}const w=new Set,$=new Set;function x(t){Y(t,1),t.m(a,h),o.set(t.key,t),h=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,l=n.key;e===n?(h=e.first,d--,p--):g.has(l)?!o.has(r)||w.has(r)?x(e):$.has(l)?d--:y.get(r)>y.get(l)?($.add(r),x(e)):(w.add(l),d--):(i(n,o),d--)}for(;d--;){const e=t[d];g.has(e.key)||i(e,o)}for(;p;)x(m[p-1]);return m}(r,e,o,1,t,s,l,n,j,st,null,et)),128&e[0]&&T(n,"transform","translateY("+-16*Math.max(t[7],0)+"px)")},d(t){t&&p(e);for(let e=0;e<r.length;e+=1)r[e].d()}}}function st(t,e){let n,r,l,s=e[68][1]+"";return{key:t,first:null,c(){n=f("p"),r=m(s),l=g(),this.h()},l(t){n=E(t,"P",{class:!0});var e=x(n);r=q(e,s),l=b(e),e.forEach(p),this.h()},h(){$(n,"class","svelte-h767rq"),I(n,"aplayer-lrc-current",e[70]===e[7]),this.first=n},m(t,e){d(t,n,e),u(n,r),u(n,l)},p(t,l){e=t,32&l[0]&&s!==(s=e[68][1]+"")&&M(r,s),160&l[0]&&I(n,"aplayer-lrc-current",e[70]===e[7])},d(t){t&&p(n)}}}function ot(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  version="1.1"\n                  viewBox="0 0 28 32"\n                  ><path\n                    d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"\n                  /></svg\n        >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function at(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  version="1.1"\n                  viewBox="0 0 28 32"\n                  ><path\n                    d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"\n                  /></svg\n                >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function it(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                xmlns="http://www.w3.org/2000/svg"\n                version="1.1"\n                viewBox="0 0 32 32"\n                ><path\n                  d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"\n                /></svg\n              >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function ct(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                xmlns="http://www.w3.org/2000/svg"\n                version="1.1"\n                viewBox="0 0 32 32"\n                ><path\n                  d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"\n                /></svg\n              >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function ht(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m(' <svg\n                xmlns="http://www.w3.org/2000/svg"\n                version="1.1"\n                viewBox="0 0 29 32"\n                ><path\n                  d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"\n                /></svg\n              >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function ut(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                xmlns="http://www.w3.org/2000/svg"\n                version="1.1"\n                viewBox="0 0 33 32"\n                ><path\n                  d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"\n                /></svg\n              >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function dt(e){let n,r;return{c(){r=y(),this.h()},l(t){r=y(),this.h()},h(){n=new D(r)},m(t,e){n.m('<svg\n                xmlns="http://www.w3.org/2000/svg"\n                version="1.1"\n                viewBox="0 0 29 32"\n                ><path\n                  d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"\n                /></svg\n              >',t,e),d(t,r,e)},p:t,d(t){t&&p(r),t&&n.d()}}}function pt(e){let n,r,l,s,o;return{c(){n=f("button"),r=v("svg"),l=v("path"),this.h()},l(t){n=E(t,"BUTTON",{type:!0,class:!0});var e=x(n);r=E(e,"svg",{xmlns:!0,version:!0,viewBox:!0,class:!0},1);var s=x(r);l=E(s,"path",{d:!0,class:!0},1),x(l).forEach(p),s.forEach(p),e.forEach(p),this.h()},h(){$(l,"d","M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"),$(l,"class","svelte-h767rq"),$(r,"xmlns","http://www.w3.org/2000/svg"),$(r,"version","1.1"),$(r,"viewBox","0 0 22 32"),$(r,"class","svelte-h767rq"),$(n,"type","button"),$(n,"class","aplayer-icon aplayer-icon-menu svelte-h767rq")},m(t,a){d(t,n,a),u(n,r),u(r,l),s||(o=w(n,"click",e[54]),s=!0)},p:t,d(t){t&&p(n),s=!1,o()}}}function ft(t){let e;return{c(){e=f("span"),this.h()},l(t){e=E(t,"SPAN",{class:!0}),x(e).forEach(p),this.h()},h(){$(e,"class","aplayer-list-cur svelte-h767rq")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function vt(t){let e,n,r,l,s,o,a,i,c,h,v,y,T,I=t[67]+1+"",D=t[65].name+"",A=t[65].artist+"",S=t[67]===t[3].playingIndex&&ft();function B(){return t[55](t[67])}return{c(){e=f("li"),S&&S.c(),n=g(),r=f("span"),l=m(I),s=g(),o=f("span"),a=m(D),i=g(),c=f("span"),h=m(A),v=g(),this.h()},l(t){e=E(t,"LI",{class:!0});var u=x(e);S&&S.l(u),n=b(u),r=E(u,"SPAN",{class:!0});var d=x(r);l=q(d,I),d.forEach(p),s=b(u),o=E(u,"SPAN",{class:!0});var f=x(o);a=q(f,D),f.forEach(p),i=b(u),c=E(u,"SPAN",{class:!0});var m=x(c);h=q(m,A),m.forEach(p),v=b(u),u.forEach(p),this.h()},h(){$(r,"class","aplayer-list-index svelte-h767rq"),$(o,"class","aplayer-list-title"),$(c,"class","aplayer-list-artist svelte-h767rq"),$(e,"class","svelte-h767rq")},m(t,p){d(t,e,p),S&&S.m(e,null),u(e,n),u(e,r),u(r,l),u(e,s),u(e,o),u(o,a),u(e,i),u(e,c),u(c,h),u(e,v),y||(T=w(e,"click",B),y=!0)},p(r,l){(t=r)[67]===t[3].playingIndex?S||(S=ft(),S.c(),S.m(e,n)):S&&(S.d(1),S=null),8&l[0]&&D!==(D=t[65].name+"")&&M(a,D),8&l[0]&&A!==(A=t[65].artist+"")&&M(h,A)},d(t){t&&p(e),S&&S.d(),y=!1,T()}}}function mt(e){let n,r,o,a,i,c,h,v,y,D,A,S,B,N,_,k,L,P,V,z,O,H,C,R,U,Y,j,X,W,F,J,G,K,Q,Z,et,st,ft,mt,gt,yt,wt,$t,xt,Et,qt,bt,Mt,Tt=e[4].name+"",It=e[4].artist+"",Dt=e[19].ptime+"",At=e[19].duration+"";function St(t,e){return t[6].paused?nt:rt}let Bt=St(e),Nt=Bt(e),_t=e[4].lrc&&lt(e);function kt(t,e){return t[21].muted||t[6].muted?at:ot}let Lt=kt(e),Pt=Lt(e);function Vt(t,e){return"random"===t[17].order?ct:it}let zt=Vt(e),Ot=zt(e);function Ht(t,e){return"none"===t[17].loop?dt:"one"===t[17].loop?ut:"all"===t[17].loop?ht:void 0}let Ct=Ht(e),Rt=Ct&&Ct(e),Ut=e[3].audio.length>1&&pt(e),Yt=e[3].audio,jt=[];for(let t=0;t<Yt.length;t+=1)jt[t]=vt(tt(e,Yt,t));return{c(){n=f("div"),r=f("div"),o=f("div"),Nt.c(),a=g(),i=f("div"),c=f("div"),h=f("span"),v=m(Tt),y=g(),D=f("span"),A=m(It),S=g(),_t&&_t.c(),B=g(),N=f("div"),_=f("div"),k=f("div"),L=f("div"),P=g(),V=f("div"),z=f("div"),O=f("span"),H=g(),C=f("div"),R=f("span"),U=f("span"),Y=m(Dt),j=m(" /\n            "),X=f("span"),W=m(At),F=g(),J=f("span"),G=g(),K=f("div"),Q=f("button"),Pt.c(),Z=g(),et=f("div"),st=f("div"),ft=f("div"),mt=g(),gt=f("button"),Ot.c(),yt=g(),wt=f("button"),Rt&&Rt.c(),$t=g(),Ut&&Ut.c(),xt=g(),Et=f("div"),qt=f("ol");for(let t=0;t<jt.length;t+=1)jt[t].c();this.h()},l(t){n=E(t,"DIV",{class:!0});var e=x(n);r=E(e,"DIV",{class:!0});var l=x(r);o=E(l,"DIV",{class:!0,style:!0});var s=x(o);Nt.l(s),s.forEach(p),a=b(l),i=E(l,"DIV",{class:!0});var u=x(i);c=E(u,"DIV",{class:!0});var d=x(c);h=E(d,"SPAN",{class:!0});var f=x(h);v=q(f,Tt),f.forEach(p),y=b(d),D=E(d,"SPAN",{class:!0});var m=x(D);A=q(m,It),m.forEach(p),d.forEach(p),S=b(u),_t&&_t.l(u),B=b(u),N=E(u,"DIV",{class:!0});var g=x(N);_=E(g,"DIV",{class:!0});var w=x(_);k=E(w,"DIV",{class:!0});var $=x(k);L=E($,"DIV",{class:!0,style:!0}),x(L).forEach(p),P=b($),V=E($,"DIV",{class:!0,style:!0});var M=x(V);z=E(M,"DIV",{class:!0});var T=x(z);O=E(T,"SPAN",{class:!0,style:!0}),x(O).forEach(p),T.forEach(p),M.forEach(p),$.forEach(p),w.forEach(p),H=b(g),C=E(g,"DIV",{class:!0});var I=x(C);R=E(I,"SPAN",{class:!0});var tt=x(R);U=E(tt,"SPAN",{class:!0});var nt=x(U);Y=q(nt,Dt),nt.forEach(p),j=q(tt," /\n            "),X=E(tt,"SPAN",{class:!0});var rt=x(X);W=q(rt,At),rt.forEach(p),tt.forEach(p),F=b(I),J=E(I,"SPAN",{hidden:!0}),x(J).forEach(p),G=b(I),K=E(I,"DIV",{class:!0});var lt=x(K);Q=E(lt,"BUTTON",{type:!0,class:!0});var ot=x(Q);Pt.l(ot),ot.forEach(p),Z=b(lt),et=E(lt,"DIV",{class:!0});var at=x(et);st=E(at,"DIV",{class:!0});var it=x(st);ft=E(it,"DIV",{class:!0,style:!0}),x(ft).forEach(p),it.forEach(p),at.forEach(p),lt.forEach(p),mt=b(I),gt=E(I,"BUTTON",{type:!0,class:!0});var ct=x(gt);Ot.l(ct),ct.forEach(p),yt=b(I),wt=E(I,"BUTTON",{type:!0,class:!0});var ht=x(wt);Rt&&Rt.l(ht),ht.forEach(p),$t=b(I),Ut&&Ut.l(I),I.forEach(p),g.forEach(p),u.forEach(p),xt=b(l),Et=E(l,"DIV",{class:!0,style:!0});var ut=x(Et);qt=E(ut,"OL",{class:!0});var dt=x(qt);for(let n=0;n<jt.length;n+=1)jt[n].l(dt);dt.forEach(p),ut.forEach(p),l.forEach(p),e.forEach(p),this.h()},h(){$(o,"class","aplayer-pic svelte-h767rq"),T(o,"background-image","url( "+e[4].cover+" )"),$(h,"class","aplayer-title svelte-h767rq"),$(D,"class","aplayer-artist svelte-h767rq"),$(c,"class","aplayer-music svelte-h767rq"),$(L,"class","aplayer-loaded svelte-h767rq"),T(L,"width",e[18].bufferPercentage),$(O,"class","aplayer-loading-icon"),T(O,"display",e[20]?"inline":"none"),$(z,"class","aplayer-thumb svelte-h767rq"),$(V,"class","aplayer-played svelte-h767rq"),T(V,"width",e[19].playPercentage),$(k,"class","aplayer-bar svelte-h767rq"),$(_,"class","aplayer-bar-wrap svelte-h767rq"),$(U,"class","aplayer-ptime"),$(X,"class","aplayer-dtime"),$(R,"class","aplayer-time-inner svelte-h767rq"),J.hidden=!0,$(Q,"type","button"),$(Q,"class","aplayer-icon aplayer-icon-volume-down svelte-h767rq"),$(ft,"class","aplayer-volume svelte-h767rq"),T(ft,"height",e[6].muted?"0px":e[21].volumePercentage),$(st,"class","aplayer-volume-bar svelte-h767rq"),$(et,"class","aplayer-volume-bar-wrap svelte-h767rq"),$(K,"class","aplayer-volume-wrap svelte-h767rq"),$(gt,"type","button"),$(gt,"class","aplayer-icon aplayer-icon-order svelte-h767rq"),$(wt,"type","button"),$(wt,"class","aplayer-icon aplayer-icon-loop svelte-h767rq"),$(C,"class","aplayer-time svelte-h767rq"),$(N,"class","aplayer-controller svelte-h767rq"),$(i,"class","aplayer-info svelte-h767rq"),$(qt,"class","svelte-h767rq"),$(Et,"class","aplayer-list svelte-h767rq"),T(Et,"height",e[17].showList?`${e[16]}px`:"0px"),$(r,"class","aplayer-body  svelte-h767rq"),$(n,"class","aplayer svelte-h767rq"),I(n,"aplayer-withlrc",e[5].length>0),I(n,"aplayer-withlist",e[3].audio.length>1),I(n,"aplayer-narrow",e[0])},m(t,l){d(t,n,l),u(n,r),u(r,o),Nt.m(o,null),u(r,a),u(r,i),u(i,c),u(c,h),u(h,v),u(c,y),u(c,D),u(D,A),u(i,S),_t&&_t.m(i,null),u(i,B),u(i,N),u(N,_),u(_,k),u(k,L),u(k,P),u(k,V),u(V,z),u(z,O),O.innerHTML='<svg\n                    xmlns="http://www.w3.org/2000/svg"\n                    version="1.1"\n                    viewBox="0 0 32 32"\n                    ><path\n                      d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"\n                    /></svg\n                  >',e[49](_),u(N,H),u(N,C),u(C,R),u(R,U),u(U,Y),u(R,j),u(R,X),u(X,W),u(C,F),u(C,J),u(C,G),u(C,K),u(K,Q),Pt.m(Q,null),u(K,Z),u(K,et),u(et,st),u(st,ft),e[51](st),u(C,mt),u(C,gt),Ot.m(gt,null),u(C,yt),u(C,wt),Rt&&Rt.m(wt,null),u(C,$t),Ut&&Ut.m(C,null),u(r,xt),u(r,Et),u(Et,qt);for(let e=0;e<jt.length;e+=1)jt[e].m(qt,null);e[56](Et),e[57](n),bt||(Mt=[w(o,"click",e[48]),w(_,"mousedown",(function(){s(e[13])&&e[13].apply(this,arguments)})),w(_,"mousemove",(function(){s(e[14])&&e[14].apply(this,arguments)})),w(_,"mouseup",(function(){s(e[15])&&e[15].apply(this,arguments)})),w(_,"mouseleave",(function(){s(e[15])&&e[15].apply(this,arguments)})),w(_,"touchstart",(function(){s(e[13])&&e[13].apply(this,arguments)})),w(_,"touchmove",(function(){s(e[14])&&e[14].apply(this,arguments)})),w(_,"touchend",(function(){s(e[15])&&e[15].apply(this,arguments)})),w(Q,"click",e[50],!0),w(et,"mousedown",(function(){s(e[10])&&e[10].apply(this,arguments)})),w(et,"mousemove",(function(){s(e[11])&&e[11].apply(this,arguments)})),w(et,"mouseup",(function(){s(e[12])&&e[12].apply(this,arguments)})),w(et,"mouseleave",(function(){s(e[12])&&e[12].apply(this,arguments)})),w(et,"touchstart",(function(){s(e[10])&&e[10].apply(this,arguments)})),w(et,"touchmove",(function(){s(e[11])&&e[11].apply(this,arguments)})),w(et,"touchend",(function(){s(e[12])&&e[12].apply(this,arguments)})),w(gt,"click",e[52]),w(wt,"click",e[53])],bt=!0)},p(t,r){if(Bt!==(Bt=St(e=t))&&(Nt.d(1),Nt=Bt(e),Nt&&(Nt.c(),Nt.m(o,null))),16&r[0]&&T(o,"background-image","url( "+e[4].cover+" )"),16&r[0]&&Tt!==(Tt=e[4].name+"")&&M(v,Tt),16&r[0]&&It!==(It=e[4].artist+"")&&M(A,It),e[4].lrc?_t?_t.p(e,r):(_t=lt(e),_t.c(),_t.m(i,B)):_t&&(_t.d(1),_t=null),262144&r[0]&&T(L,"width",e[18].bufferPercentage),1048576&r[0]&&T(O,"display",e[20]?"inline":"none"),524288&r[0]&&T(V,"width",e[19].playPercentage),524288&r[0]&&Dt!==(Dt=e[19].ptime+"")&&M(Y,Dt),524288&r[0]&&At!==(At=e[19].duration+"")&&M(W,At),Lt===(Lt=kt(e))&&Pt?Pt.p(e,r):(Pt.d(1),Pt=Lt(e),Pt&&(Pt.c(),Pt.m(Q,null))),2097216&r[0]&&T(ft,"height",e[6].muted?"0px":e[21].volumePercentage),zt===(zt=Vt(e))&&Ot?Ot.p(e,r):(Ot.d(1),Ot=zt(e),Ot&&(Ot.c(),Ot.m(gt,null))),Ct===(Ct=Ht(e))&&Rt?Rt.p(e,r):(Rt&&Rt.d(1),Rt=Ct&&Ct(e),Rt&&(Rt.c(),Rt.m(wt,null))),e[3].audio.length>1?Ut?Ut.p(e,r):(Ut=pt(e),Ut.c(),Ut.m(C,null)):Ut&&(Ut.d(1),Ut=null),72&r[0]){let t;for(Yt=e[3].audio,t=0;t<Yt.length;t+=1){const n=tt(e,Yt,t);jt[t]?jt[t].p(n,r):(jt[t]=vt(n),jt[t].c(),jt[t].m(qt,null))}for(;t<jt.length;t+=1)jt[t].d(1);jt.length=Yt.length}196608&r[0]&&T(Et,"height",e[17].showList?`${e[16]}px`:"0px"),32&r[0]&&I(n,"aplayer-withlrc",e[5].length>0),8&r[0]&&I(n,"aplayer-withlist",e[3].audio.length>1),1&r[0]&&I(n,"aplayer-narrow",e[0])},i:t,o:t,d(t){t&&p(n),Nt.d(),_t&&_t.d(),e[49](null),Pt.d(),e[51](null),Ot.d(),Rt&&Rt.d(),Ut&&Ut.d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(jt,t),e[56](null),e[57](null),bt=!1,l(Mt)}}}function gt(t,n,r){let l,s,o,a,u,d,p,f,v,m,g,y,w,$,x;var E,q,b;const{player:M,playList:T,currentSong:I,rdTime:D,currentTime:A,duration:S,rdBufTime:N,wtBufTime:k,loading:L,lrc:P,controlState:V,volumeState:z}=function(){const t=document.createElement("audio");Z.push(t);let e=J(0),n=J(NaN);const r=G([e,n],(([t,e])=>{let n=t/e;return n=Math.max(n,0),n=Math.min(n,1),n*=100,{ptime:K(t),duration:K(e),playPercentage:`${n}%`}}));let l=J(0);const s=G([l,n],(([t,e])=>{let n=t/e;return n=Math.max(n,0),n=Math.min(n,1),n*=100,{bufferPercentage:`${n}%`,bufTime:t}})),o=J({playingIndex:0,audio:[]}),a=J({volume:.7,loop:"all",order:"list",showList:!0}),i=G(a,(t=>({volumePercentage:100*t.volume+"%",muted:0===t.volume}))),c=G(o,(t=>t.audio[t.playingIndex])),h=G([s,e],(([{bufTime:e},n])=>!t.paused&&(t.readyState<=HTMLMediaElement.HAVE_CURRENT_DATA||e-n<2&&t.readyState===HTMLMediaElement.HAVE_FUTURE_DATA))),u=G(c,((t,e)=>{if(!t||!t.lrc)return void e([]);const n=t.lrc;n.startsWith("http")?fetch(n).then((t=>{if(!t.ok)throw new Error(`${t.statusText} canot loading lrc from ${n}`);return t.text()})).then((t=>{e(Q(t))})).catch((t=>{throw e([]),console.error(t),t})):e(Q(n))}),[]);return{player:t,playList:o,currentSong:c,rdTime:r,currentTime:e,duration:n,rdBufTime:s,wtBufTime:l,loading:h,lrc:u,controlState:a,volumeState:i}}();i(t,T,(t=>r(3,d=t))),i(t,I,(t=>r(4,p=t))),i(t,D,(t=>r(19,w=t))),i(t,A,(t=>r(59,v=t))),i(t,S,(t=>r(60,m=t))),i(t,N,(t=>r(18,y=t))),i(t,k,(t=>r(61,g=t))),i(t,L,(t=>r(20,$=t))),i(t,P,(t=>r(5,f=t))),i(t,V,(t=>r(17,u=t))),i(t,z,(t=>r(21,x=t)));let{audio:O}=n,{order:H=u.order}=n,{loop:C=u.loop}=n,{volume:R=u.volume}=n,{mini:U=!1}=n,{mutex:Y=!0}=n,{autoplay:j=!1}=n,{theme:X}=n,W=!j;const F=()=>{Y&&(console.log(Z),Z.forEach((t=>t.pause()))),M.play()};let tt=-1;M.addEventListener("timeupdate",(()=>{h(A,v=M.currentTime,v),a.includes("lrc")&&tt+1<f.length&&M.currentTime>=f[tt+1][0]&&r(7,tt++,tt)})),M.addEventListener("volumechange",(()=>{h(V,u.volume=M.volume,u)})),M.addEventListener("loadedmetadata",(()=>{h(S,m=M.duration,m)}));const et=()=>{const t=M.buffered.length?M.buffered.end(M.buffered.length-1):0;h(k,g=t,g)};M.addEventListener("progress",et),M.addEventListener("canplay",et),M.addEventListener("durationchange",(()=>{h(S,m=M.duration,m)}));let nt,rt,lt,st,ot,at,it,ct,ht;M.addEventListener("ended",(()=>{const t=Array.isArray(d.audio)?d.audio:[d.audio],e=(d.playingIndex+1)%t.length;if("none"===u.loop){if("list"===u.order)d.playingIndex<t.length-1?(h(T,d.playingIndex=e,d),r(6,M.currentTime=0,M),F()):(h(T,d.playingIndex=(d.playingIndex+1)%t.length,d),r(44,W=!0),M.pause());else if("random"===u.order){const n=Math.floor(t.length*Math.random());n===d.playingIndex?h(T,d.playingIndex=e,d):h(T,d.playingIndex=n,d),r(6,M.currentTime=0,M)}}else"one"===u.loop?(r(6,M.currentTime=0,M),F()):"all"===u.loop&&(h(T,d.playingIndex=e,d),F())}));let ut,dt=0;B((()=>{"localhost"===location.hostname&&(window.theAudio=M);const t=function(t,e){let n=!1;return{volumeDragStart:()=>{n=!0},volumeDragMove:r=>{if(n){let n=1-((r.clientY||r.changedTouches[0].clientY)-e.getBoundingClientRect().top)/e.clientHeight;n=Math.max(n,0),n=Math.min(n,1),t.volume=n}},volumeDragEnd:r=>{if(n){let l=1-((r.clientY||r.changedTouches[0].clientY)-e.getBoundingClientRect().top)/e.clientHeight;l=Math.max(l,0),l=Math.min(l,1),t.volume=l,n=!1}}}}(M,nt);r(10,lt=t.volumeDragStart),r(11,st=t.volumeDragMove),r(12,ot=t.volumeDragEnd);const e=function(t,e){let n=!1;return{progressDragStart:()=>{n=!0},progressDragMove:r=>{if(n){let n=((r.clientX||r.changedTouches[0].clientX)-e.getBoundingClientRect().left)/e.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.currentTime=t.duration*n}},progressDragEnd:r=>{if(n){n=!1;let l=((r.clientX||r.changedTouches[0].clientX)-e.getBoundingClientRect().left)/e.clientWidth;l=Math.max(l,0),l=Math.min(l,1),t.currentTime=t.duration*l}}}}(M,rt);r(13,at=e.progressDragStart),r(14,it=e.progressDragMove),r(15,ct=e.progressDragEnd)}));return t.$$set=t=>{r(64,n=e(e({},n),c(t))),"audio"in t&&r(34,O=t.audio),"order"in t&&r(35,H=t.order),"loop"in t&&r(36,C=t.loop),"volume"in t&&r(37,R=t.volume),"mini"in t&&r(0,U=t.mini),"mutex"in t&&r(38,Y=t.mutex),"autoplay"in t&&r(39,j=t.autoplay),"theme"in t&&r(40,X=t.theme)},t.$$.update=()=>{8&t.$$.dirty[1]&&r(45,l="string"==typeof O?JSON.parse(O):O),16384&t.$$.dirty[1]&&h(T,d.audio=Array.isArray(l)?l:[l],d),r(46,s=!function(t,e){const n=t[e];return!(null==n||"false"===n)}(n,"list_folded")&&d.audio.length>1),32768&t.$$.dirty[1]&&h(V,u.showList=s,u),32&t.$$.dirty[1]&&h(V,u.loop=C,u),16&t.$$.dirty[1]&&h(V,u.order=H,u),64&t.$$.dirty[1]&&h(V,u.volume=R,u),64&t.$$.dirty[1]&&r(6,M.volume=R,M),16&t.$$.dirty[0]&&r(6,M.src=p.url,M),16&t.$$.dirty[0]|3584&t.$$.dirty[1]&&r(47,o=null!==r(42,q=null!==r(41,E=p.theme)&&void 0!==E?E:X)&&void 0!==q?q:"#fadfa3"),4&t.$$.dirty[0]|65536&t.$$.dirty[1]&&ut&&ut.style.setProperty("--theme-color",o),8192&t.$$.dirty[1]&&(W||F(),r(44,W=!1)),32&t.$$.dirty[0]&&(a=f&&f.length>0?"withlrc":""),2&t.$$.dirty[0]|4096&t.$$.dirty[1]&&r(16,dt=null!==r(43,b=null==ht?void 0:ht.scrollHeight)&&void 0!==b?b:0)},n=c(n),[U,ht,ut,d,p,f,M,tt,nt,rt,lt,st,ot,at,it,ct,dt,u,y,w,$,x,T,I,D,A,S,N,k,L,P,V,z,F,O,H,C,R,Y,j,X,E,q,b,W,l,s,o,()=>{M.paused?F():M.pause()},function(t){_[t?"unshift":"push"]((()=>{rt=t,r(9,rt)}))},()=>{r(6,M.muted=!M.muted,M)},function(t){_[t?"unshift":"push"]((()=>{nt=t,r(8,nt)}))},()=>{h(V,u.order="list"===u.order?"random":"list",u)},()=>{"all"===u.loop?h(V,u.loop="one",u):"one"===u.loop?h(V,u.loop="none",u):"none"===u.loop&&h(V,u.loop="all",u)},()=>{h(V,u.showList=!u.showList,u)},t=>{h(T,d.playingIndex=t,d),r(6,M.currentTime=0,M)},function(t){_[t?"unshift":"push"]((()=>{ht=t,r(1,ht)}))},function(t){_[t?"unshift":"push"]((()=>{ut=t,r(2,ut)}))}]}export default class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),W(this,t,gt,mt,o,{audio:34,order:35,loop:36,volume:37,mini:0,mutex:38,autoplay:39,theme:40},[-1,-1,-1])}}
